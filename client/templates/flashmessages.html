<template name="flashMessagesOverlay">
  <ul class="flash-messages">
    {{#momentum plugin='animatedVerticalList'}}
      {{#each flashMessages}}
        {{> flashMessagesOverlayItem}}
      {{/each}}
    {{/momentum}}
  </ul>
</template>

<template name="flashMessagesOverlayItem">
  <li class="flash-message {{type}}">
    {{#if additional}}
      <i class="icon-down button" title="Additional information"></i>
    {{/if}}
    <div class="message">{{message}}</div>
    {{#if additional}}
      <div class="additional">
        {{#if additional.template}}
          {{> Template.dynamic template=additional.template data=additional.data}}
        {{else}}
          {{!
            We allow raw HTML content for additional information.
            This means it should come only from trusted sources.
          }}
          {{{convertNewlines additional}}}
        {{/if}}
      </div>
    {{/if}}
  </li>
</template>
